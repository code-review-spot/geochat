<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <title>Geochat</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <%= stylesheet_link_tag "application", :media => "all" %>
  <!-- icons by Font Awesome - http://fortawesome.github.com/Font-Awesome -->
  <%= csrf_meta_tags %>
</head>
<body<%= " class='welcome'" unless current_user %>>

<% if current_user %>

<div class="navbar navbar-fixed-top">
  <div class="navbar-inner light">
    <div class="container">

      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>

      <a href="/#/" class="brand">Geochat</a>

      <div class="divider-vertical pull-left"></div>
      <p class="navbar-text channel-name pull-left"></p>

      <div class="nav-collapse collapse">
        <ul class="session nav pull-right">
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
              <i class="icon-user icon-white"></i>
              <%= current_user.nickname %>
              <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
              <li><%= link_to "Sign Out", signout_path %></li>
            </ul>
          </li>
        </ul>
      </div>

    </div>
  </div>
</div>

<div id="main" class="container">
  <%= yield %>
</div>

<% else %>

<div id="main" class="container">
  <div class="hero-unit">
    <h1>Geochat</h1>
    <p>Real-time, location-aware chat</p>
    <a href="/auth/twitter" class="btn btn-primary sign-in"><i class="icon-twitter"></i> Sign in with <strong>Twitter</strong></a>
  </div>

  <section id="pitch">
    <div class="row">
      <div class="span4">
        <h2><i class="icon-comment"></i> Chat smarter</h2>
        <p>
          When you enter a channel, you automatically share your location
          and get everyone else's location too, so everyone knows where everyone
          else is without anyone having to ask.
        </p>
      </div>
      <div class="span4">
        <h2><i class="icon-globe"></i> Get geolocated</h2>
        <p>
          Sign in to Geochat with any GPS-enabled
          <a href="http://www.apple.com/iphone/">iPhone</a> or
          <a href="http://www.android.com/devices/">Android</a> device
          or use a modern browser like
          <a href="http://www.google.com/chrome">Chrome</a>,
          <a href="http://www.mozilla.org/firefox">Firefox</a>, or
          <a href="http://www.apple.com/safari/">Safari</a>, and you'll be
          chatting around the globe in no time at all.
        </p>
      </div>
      <div class="span4">
        <h2><i class="icon-twitter"></i> Simple and free</h2>
        <p>
          All you need to try out Geochat is a
          <a href="https://twitter.com/">Twitter</a> account!
          No forms, no new passwords, no emails, just log in and connect with
          anyone in the twitterverse in under a minute!
        </p>
      </div>
    </div>
  </section>

  <section id="technology">
    <div class="page-header">
      <h1>Technology</h1>
    </div>

    <div class="row">
      <div class="span3">
        <h4><a href="http://www.pusher.com">Pusher</a></h4>
        <p>Geochat uses Pusher for real-time push notifications, enabling real-time chat and geolocation for all modern devices.</p>
      </div>
      <div class="span3">
        <h4><a href="http://dev.w3.org/geo/api/spec-source.html">Geolocation</a></h4>
        <p>Geochat takes full advantage of the advances made by adoption of the W3C Geolocation
        API among modern browsers and devices.</p>
      </div>
      <div class="span3">
        <h4><a href="http://backbonejs.org/">Backbone.js</a></h4>
        <p>Backbone.js is an excellent, lightweight MVC JavaScript framework for building highly efficient and interactive web applications.</p>
      </div>
      <div class="span3">
        <h4><a href="http://rubyonrails.org/">Rails</a></h4>
        <p>Node.js is cool, but Rails is stable. The first release of Geochat is built on Ruby on Rails to ensure a working product for every user.</p>
      </div>
    </div>

    <div class="row">
      <div class="span3">
        <h4><a href="http://twitter.github.com/bootstrap/">Bootstrap</a></h4>
        <p>Twitter's front end development team has given developers an incredible gift in the form of Bootstrap, a very handy front end toolkit.</p>
      </div>
      <div class="span3">
        <h4><a href="http://coffeescript.org/">CoffeeScript</a></h4>
        <p>CoffeeScript is the JavaScript you deserve. It's a beautiful language with an improved syntax that transcompiles to JS quite nicely.</p>
      </div>
      <div class="span3">
        <h4><a href="http://sass-lang.com/">SASS</a></h4>
        <p>SASS is the grown-up version of CSS, providing features like variables, nesting, mixins and selector inheritance.</p>
      </div>
      <div class="span3">
        <h4><a href="http://fortawesome.github.com/Font-Awesome/">Font Awesome</a></h4>
        <p>All icons are provided by this awesome free icon library built specifically for Bootstrap.</p>
      </div>
    </div>
  </section>

  <footer>
    <p>&copy;2012 <a href="http://the.innrr.net/">the.innrr.net</a></p>
  </footer>
</div>

<% end %>

<% if current_user %>
<script src="//maps.google.com/maps/api/js?sensor=false"></script>
<script src="http://js.pusher.com/1.11/pusher.min.js"></script>
<%= javascript_include_tag "application" %>
<script type="text/javascript">
  gc.USERNAME = '<%= current_user.nickname %>'
  gc.USER_IMAGE = '<%= current_user.image %>'
  gc.PUSHER_KEY = '<%= Pusher.key %>'
</script>
<% end %>

</body>
</html>
