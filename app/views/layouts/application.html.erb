<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <title>Geochat</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <%= stylesheet_link_tag "application", :media => "all" %>
  <!-- icons by Font Awesome - http://fortawesome.github.com/Font-Awesome -->
  <%= csrf_meta_tags %>
</head>
<body<%= " class='welcome'" unless current_user %>>

<% if current_user %>

<div class="navbar navbar-fixed-top">
  <div class="navbar-inner light">
    <div class="container">

      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>

      <a href="/#/" class="brand">Geochat</a>

      <div class="divider-vertical pull-left"></div>
      <p class="navbar-text channel-name pull-left"></p>

      <div class="nav-collapse collapse">
        <ul class="session nav pull-right">
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
              <i class="icon-user icon-white"></i>
              <%= current_user.nickname %>
              <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
              <li><%= link_to "Sign Out", signout_path %></li>
            </ul>
          </li>
        </ul>
      </div>

    </div>
  </div>
</div>

<div id="main" class="container-fluid">
  <%= yield %>
</div>

<% else %>

<div id="main" class="container">
  <div class="hero-unit">
    <h1>Geochat</h1>
    <p>A real-time, location-aware chat interface</p>
    <a class="sign-in" href="/auth/twitter">Sign in with Twitter</a>
  </div>

  <div class="row">
    <div class="span4">
      <h2><i class="icon-comment"></i> Chat smarter</h2>
      <p>
        When you enter a channel, you automatically share your location
        and get everyone else's location too, so everyone knows where everyone
        else is without anyone having to ask.
      </p>
    </div>
    <div class="span4">
      <h2><i class="icon-globe"></i> Get geolocated</h2>
      <p>
        Geochat uses the
        <a href="http://dev.w3.org/geo/api/spec-source.html">W3C Geolocation
        API</a> supported by modern browsers like
        <a href="http://www.google.com/chrome">Chrome</a>,
        <a href="http://www.mozilla.org/firefox">Firefox</a> and
        <a href="http://www.apple.com/safari/">Safari</a>
        to ask for your location straight your browser -- no GPS needed!
      </p>
    </div>
    <div class="span4">
      <h2><i class="icon-twitter"></i> Simple and free</h2>
      <p>
        All you need to try out Geochat is a
        <a href="https://twitter.com/">Twitter</a> account!
        No forms, no new passwords, no emails, just log in and connect with
        anyone around the globe in under a minute!
      </p>
    </div>
  </div>

  <hr>

  <section id="technology">
    <div class="page-header">
      <h1>Technology</h1>
    </div>

    <div class="row">
      <div class="span3">
        <h3>Pusher</h3>
        <p>"Pusher is a hosted service that allows developers to quickly and easily add realtime functionality into their web and mobile applications."</p>
      </div>
      <div class="span3">
        <h3>Geolocation</h3>
        <p>"The W3C Geolocation API is an effort by the World Wide Web Consortium (W3C) to standardize an interface to retrieve the geographical location information for a client-side device."</p>
      </div>
      <div class="span3">
        <h3>Rails</h3>
        <p>"Ruby on Rails is an open source full-stack web application framework for the Ruby programming language."</p>
      </div>
      <div class="span3">
        <h3>Bootstrap</h3>
        <p>"Simple and flexible HTML, CSS, and Javascript for popular user interface components and interactions."</p>
      </div>
    </div>

    <div class="row">
      <div class="span3">
        <h3>Backbone</h3>
        <p>"Backbone.js gives structure to web applications by providing models with key-value binding and custom events, collections with a rich API of enumerable functions, views with declarative event handling, and connects it all to your existing API over a RESTful JSON interface."</p>
      </div>
      <div class="span3">
        <h3>CoffeeScript</h3>
        <p>"CoffeeScript is a programming language that transcompiles to JavaScript. The language adds syntactic sugar inspired by Ruby, Python and Haskell to enhance JavaScript's brevity and readability, and add more sophisticated features like list comprehension and pattern matching."</p>
      </div>
      <div class="span3">
        <h3>SASS</h3>
        <p>"Sass is an extension of CSS3, adding nested rules, variables, mixins, selector inheritance, and more. Itâ€™s translated to well-formatted, standard CSS using the command line tool or a web-framework plugin."</p>
      </div>
      <div class="span3">
        <h3>Open Source</h3>
        <p>Geochat is 100% open source and available for distribution under the MIT license. Wishing for an extra something that Geochat could do? Visit the project on <a href="http://github.com">Github</a> and make it happen!</p>
      </div>
    </div>
  </section>
</div>

<% end %>

<% if current_user %>
<script src="//maps.google.com/maps/api/js?sensor=false"></script>
<script src="http://js.pusher.com/1.11/pusher.min.js"></script>
<%= javascript_include_tag "application" %>
<script type="text/javascript">
  gc.USERNAME = '<%= current_user.nickname %>'
  gc.USER_IMAGE = '<%= current_user.image %>'
  gc.PUSHER_KEY = '<%= Pusher.key %>'
</script>
<% end %>

</body>
</html>
